{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\n\nconst getFormValues = () => {\n  const storedValues = localStorage.getItem('form');\n\n  if (!storedValues) {\n    return {\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      company: \"\",\n      message: \"\"\n    };\n  }\n\n  return JSON.parse(storedValues);\n};\n\nconst useForm = (callback, validate) => {\n  _s();\n\n  const [values, setValues] = useState(getFormValues());\n  const [errors, setErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setValues({ ...values,\n      [name]: value\n    });\n    setErrors(validate(values));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (Object.keys(errors).length === 0) {\n      setIsSubmitting(true);\n    }\n  };\n\n  useEffect(() => {\n    if (Object.keys(errors).length === 0 && isSubmitting) {\n      callback();\n    }\n  }, [errors]);\n  return {\n    handleChange,\n    handleSubmit,\n    values,\n    errors\n  };\n};\n\n_s(useForm, \"2S2T5VG1dbl2obtUQrjUGpEO/ao=\");\n\nexport default useForm;","map":{"version":3,"names":["useState","useEffect","getFormValues","storedValues","localStorage","getItem","name","email","phone","company","message","JSON","parse","useForm","callback","validate","values","setValues","errors","setErrors","isSubmitting","setIsSubmitting","handleChange","e","value","target","handleSubmit","preventDefault","Object","keys","length"],"sources":["D:/devMaster/reactjs/project/src/hooks/useForm.js"],"sourcesContent":["\r\nimport { useState, useEffect } from \"react\";\r\n\r\nconst getFormValues = () => {\r\n    const storedValues = localStorage.getItem('form');\r\n    if (!storedValues) {\r\n        return {\r\n            name: \"\",\r\n            email: \"\",\r\n            phone: \"\",\r\n            company: \"\",\r\n            message: \"\"\r\n        }\r\n    }\r\n    return JSON.parse(storedValues);\r\n}\r\n\r\nconst useForm = (callback, validate) => {\r\n    const [values, setValues] = useState(getFormValues());\r\n    const [errors, setErrors] = useState({});\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setValues({\r\n            ...values,\r\n            [name]: value\r\n        });\r\n        setErrors(validate(values));\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (Object.keys(errors).length === 0) {\r\n            setIsSubmitting(true);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (Object.keys(errors).length === 0 && isSubmitting) {\r\n            callback();\r\n        }\r\n    }, [errors]);\r\n\r\n    return {\r\n        handleChange,\r\n        handleSubmit,\r\n        values,\r\n        errors\r\n    };\r\n};\r\n\r\nexport default useForm;\r\n"],"mappings":";;AACA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;AAEA,MAAMC,aAAa,GAAG,MAAM;EACxB,MAAMC,YAAY,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAArB;;EACA,IAAI,CAACF,YAAL,EAAmB;IACf,OAAO;MACHG,IAAI,EAAE,EADH;MAEHC,KAAK,EAAE,EAFJ;MAGHC,KAAK,EAAE,EAHJ;MAIHC,OAAO,EAAE,EAJN;MAKHC,OAAO,EAAE;IALN,CAAP;EAOH;;EACD,OAAOC,IAAI,CAACC,KAAL,CAAWT,YAAX,CAAP;AACH,CAZD;;AAcA,MAAMU,OAAO,GAAG,CAACC,QAAD,EAAWC,QAAX,KAAwB;EAAA;;EACpC,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBjB,QAAQ,CAACE,aAAa,EAAd,CAApC;EACA,MAAM,CAACgB,MAAD,EAASC,SAAT,IAAsBnB,QAAQ,CAAC,EAAD,CAApC;EACA,MAAM,CAACoB,YAAD,EAAeC,eAAf,IAAkCrB,QAAQ,CAAC,KAAD,CAAhD;;EAEA,MAAMsB,YAAY,GAAIC,CAAD,IAAO;IACxB,MAAM;MAAEjB,IAAF;MAAQkB;IAAR,IAAkBD,CAAC,CAACE,MAA1B;IACAR,SAAS,CAAC,EACN,GAAGD,MADG;MAEN,CAACV,IAAD,GAAQkB;IAFF,CAAD,CAAT;IAIAL,SAAS,CAACJ,QAAQ,CAACC,MAAD,CAAT,CAAT;EACH,CAPD;;EASA,MAAMU,YAAY,GAAIH,CAAD,IAAO;IACxBA,CAAC,CAACI,cAAF;;IACA,IAAIC,MAAM,CAACC,IAAP,CAAYX,MAAZ,EAAoBY,MAApB,KAA+B,CAAnC,EAAsC;MAClCT,eAAe,CAAC,IAAD,CAAf;IACH;EACJ,CALD;;EAOApB,SAAS,CAAC,MAAM;IACZ,IAAI2B,MAAM,CAACC,IAAP,CAAYX,MAAZ,EAAoBY,MAApB,KAA+B,CAA/B,IAAoCV,YAAxC,EAAsD;MAClDN,QAAQ;IACX;EACJ,CAJQ,EAIN,CAACI,MAAD,CAJM,CAAT;EAMA,OAAO;IACHI,YADG;IAEHI,YAFG;IAGHV,MAHG;IAIHE;EAJG,CAAP;AAMH,CAjCD;;GAAML,O;;AAmCN,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}